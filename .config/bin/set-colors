#!/usr/bin/env bash

set -ex

cp $COLORSCHEMES/templates/colors-kitty.conf $COLORSCHEMES/current/colors-kitty.conf
cp $COLORSCHEMES/templates/colors.Xresources $COLORSCHEMES/current/colors.Xresources

colorscheme=$1

function replace_colors() {
    replacement=$(awk -v n=${2} 'NR == n {print $0}' $COLORSCHEMES/$colorscheme)
    eval "sed -i s/%${1}%/${replacement}/g $COLORSCHEMES/current/colors-kitty.conf";
    eval "sed -i s/%${1}%/${replacement}/g $COLORSCHEMES/current/colors.Xresources";
}

for i in {0..15}
do
    replace_colors "c${i}" $((++i))
done
